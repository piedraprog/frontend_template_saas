<app-auth-card
  [title]="'Iniciar Sesión'"
  [subheader]="'Ingresa tus credenciales para iniciar sesión'"
>
  <form [formGroup]="loginForm" (ngSubmit)="login()" class="flex flex-column gap-4" #form="ngForm">
    <!-- Correo electrónico -->
    <div class="flex flex-column gap-2">
      <label for="email" class="flex flex-column align-items-right gap-2 md:flex-row">
        Correo Electrónico
        <div
          *ngIf="
            (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) || form.submitted
          "
          class="text-red-500"
        >
          <small *ngIf="loginForm.get('email')?.errors?.['required']">
            *El correo electrónico es obligatorio.
          </small>
          <small *ngIf="loginForm.get('email')?.errors?.['email']">
            *Ingresa un correo electrónico válido.
          </small>
        </div>
      </label>
      <input
        pInputText
        id="email"
        aria-describedby="email-help"
        formControlName="email"
        placeholder="example@example.com"
      />
    </div>

    <!-- Contraseña -->
    <div class="flex flex-column gap-2">
      <label for="password" class="flex align-items-center gap-2">
        Contraseña
        <div
          *ngIf="
            (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) ||
            form.submitted
          "
          class="text-danger"
        >
          <small *ngIf="loginForm.get('password')?.errors?.['required']" class="text-red-500">
            *La contraseña es obligatoria.
          </small>
        </div>
      </label>
      <input
        pInputText
        id="password"
        aria-describedby="password-help"
        formControlName="password"
        type="password"
        placeholder="Ingresa tu contraseña"
      />
    </div>

    <!-- Recuperar contraseña -->
    <div class="flex flex-column gap-2">
      <small>¿Olvidaste tu contraseña?</small>
      <small>
        <p-button
          label="Recuperar tu contraseña"
          [link]="true"
          styleClass="p-0 text-sm text-gray-900"
        />
      </small>
    </div>

    <!-- Botón de inicio de sesión -->
    <div class="w-full">
      <p-button type="submit" label="Iniciar Sesión" styleClass="w-full" />
    </div>
  </form>
</app-auth-card>

<app-loader-dialog [show]="showLoader" />
